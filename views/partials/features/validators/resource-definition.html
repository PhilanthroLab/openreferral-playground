<h3 class="ui header">{{this.title}}
  <a target="_blank" href="http://docs.openreferral.org/en/latest/reference/#{{this.name}}"><i class="external icon small"></i></a>
</h3>

<p>{{this.description}}</p>

<table class="ui table celled">
  <thead>
    <tr>
      <th class="three wide">Field</th>
      <th>Type</th>
      <th class="three wide">Foreign keys</th>
      <th class="four wide">Description</th>
      <th>Format</th>
      <th>Required</th>
      <th>Unique</th>
      <th>Values</th>
    </tr>
  </thead>
  <tbody>
    {{#each this.schema.fields}}
    <tr>
      <td style="word-break: break-all;">
        {{this.name}}
        {{#if this.keys.primary}}
        <i class="icon yellow key" data-content="Primary key"></i>
        {{/if}}
      </td>
      <td>
        <div class="ui horizontal label">{{this.type}}</div>
      </td>

      <td style="word-break: break-all;">
        <div class="ui list">

        {{#if this.keys.foreign}}
            {{#each this.keys.foreign}}
            <div class="item">
              <a class='foreign-key' data-resource='{{this.resource}}'>{{this.resource}}:{{this.field}}</a>
            </div>
            {{/each}}
        {{/if}}
        </div>
      </td>

      <td>{{this.description}}</td>
      <td>
        {{#if this.format}}
        <div class="ui purple horizontal label">{{this.format}}</div>
        {{/if}}
      </td>
      <td class="center aligned">
        {{#if this.constraints.required}}
        <i class="large green checkmark icon"></i> {{/if}}
      </td>
      <td class="center aligned">
        {{#if this.constraints.unique}}
        <i class="large green checkmark icon"></i> {{/if}}
      </td>
      <td class="left aligned">
        {{#if this.constraints.enum}}
        <div class="ui list bulleted">
          {{#each this.constraints.enum}}
          <div class="item">{{this}}</div>
          {{/each}}
        </div>
        {{/if}}
      </td>
    </tr>
    {{/each}}

  </tbody>
</table>
